<footer>
  <div style="margin-left: 7%; margin-right:7%;">
    <div class="container">
      <div class="row g-4">
        <!-- Logo and Counts -->
        <div class="col-lg-4">
          <a class="navbar-brand d-flex align-items-center me-3" href="index.php">

            <a class="navbar-brand d-flex align-items-center" id="logo-div" href="/" >
                <img src="ic_logo.svg" alt="Gadget Grid logo" style="height:68px;" />
            </a>
        </a>
        
          <p class="mb-3">
            Craft, create, and inspire with endless design possibilities at
            Design Bundles.
          </p>
          <div class="footer-counts">
            <p><strong>500</strong> Products</p>
            <p><strong>212</strong> Customers</p>
            
          </div>
        </div>
  
        <!-- Navigation -->
        <div class="col-6 col-lg-2 footer-links">
          <h6>Navigation</h6>
          <ul>
          
            <li><a href="cookie.php">Cookie Policy</a></li>
          
            <li><a href="privacy.php">Privacy Policy</a></li>
            <li><a href="terms.php">Terms and Conditions</a></li>
          
          </ul>
        </div>
  
        <!-- Resources -->
        <div class="col-6 col-lg-3 footer-links">
          <h6>Resources</h6>
          <ul>
            <li><a href="mailto:support@digitalsdesign.com">Help Center</a></li>
            
          </ul>
        </div>
  
        <!-- Pages -->
        <div class="col-lg-2 footer-links">
          <h6>Pages</h6>
          <ul>
           
            <li><a href="login.php">Register</a></li>
            <li><a href="login.php">Login</a></li>
          </ul>
        </div>
  
        <!-- Badge -->
        <div class="col-lg-1 certified-badge text-lg-end">
         
        </div>
      </div>
  
      <!-- Social & Currency -->
      <div class="row mt-4 align-items-center">
        <div class="col-md-6 text-center text-md-start social-icons">
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-pinterest-p"></i></a>
          <a href="#"><i class="fab fa-x-twitter"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <div class="col-md-6 text-center text-md-end">
          <div class="dropdown d-inline-block"></div>
        </div>
      </div>
  
      <!-- Bottom Text -->
      <div class="footer-bottom text-center mt-4">
        <p class="mb-1">Â© 2025 - All rights reserved. Digtials Design</p>
        <p class="mb-0"></p>
      </div>
    </div>
  </div>
  
</footer>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<!-- Your existing JavaScript code remains the same -->
<script>
 
$(function () {
  $.getJSON('ajax/get_categories.php', function (tree) {
    $('#category-nav').html(renderMegaMenu(tree));
  });
});
$(function() {
  // Show mega dropdown on hover
  $('#category-nav').on('mouseenter', '.dropdown-mega', function () {
    $(this).addClass('show');
    $(this).find('.mega-menu').addClass('show');
  });
  $('#category-nav').on('mouseleave', '.dropdown-mega', function () {
    $(this).removeClass('show');
    $(this).find('.mega-menu').removeClass('show');
  });
});
// Delegated category/subcategory handle; works for all levels

/*
$(document).on('click', '#category-nav .dropdown-item, #category-nav .nav-link', function (e) {
  e.preventDefault();
  let href = $(this).attr('href');
  let urlParams = new URLSearchParams(href.split('?')[1]);
  let catId = urlParams.get('category_id');
  if (catId) {
    currentCategory = catId;
    currentCategoryName = $(this).text().trim();
    $('#main-search-input').val('');
    $('#hero-section, #featured-section, #premium-section').hide();
    $('#search-results-section').show();
    $('#search-title').text('Category: ' + currentCategoryName);
    $('#clear-category-btn').show();
    fetchAndRenderSearch(true);
    searchMode = true;
  }
});*/





$(document).on('click', '#category-nav .dropdown-item, #category-nav .nav-link', function (e) {
  e.preventDefault();

  // Close ALL open mega menus/dropdowns
  $('.dropdown-mega, .mega-menu, .dropdown-menu').removeClass('show');

  let href = $(this).attr('href');
  let urlParams = new URLSearchParams((href || '').split('?')[1] || '');
  let catId = urlParams.get('category_id');

  if (catId) {
    currentCategory = catId;
    currentCategoryName = $(this).text().trim();
    $('#main-search-input').val('');
    $('#hero-section, #featured-section, #premium-section').hide();
    $('#search-results-section').show();
    $('#search-title').text('Category: ' + currentCategoryName);
    $('#clear-category-btn').show();
    fetchAndRenderSearch(true);
    searchMode = true;
    $('#clear-category-btn').focus();
    console.log('cat click ');
  }
});



</script>



<script>
  

 
  // When "X" clear button is clicked
  $('#clear-category-btn').on('click', function() {
    location.reload();
});



</script>
<script>
  $(function () {


    // Add to cart/wishlist AJAX
    $(document).on('click', '.wishlist-btn, .cart-btn', function () {
      var productId = $(this).closest('.overlay-buttons').data('product-id');
      var action = $(this).hasClass('wishlist-btn') ? 'add_to_wishlist' : 'add_to_cart';

      $.ajax({
        type: "POST",
        url: 'ajax/product_action.php',
        data: {
          action: action,
          product_id: productId,
          url: 'index.php' // Current page URL
        },
        dataType: "json",
        success: function (resp) {
          console.log('Response:', resp);

          if (resp.success === '1') {
            updateCartIconCount();
            alert(resp.message || 'Added to cart successfully');
            window.location.href = 'cart.php';
          } else if (resp.success === '2') {
            alert(resp.message || 'Added to wishlist successfully');
            window.location.href = 'wishlist.php';
          } else if (resp.success === 'login_required') {
            alert(resp.message || 'Please log in to continue');
            window.location.href = 'login.php';
          } else {
            console.log('Unhandled response:', resp);
            alert(resp.message || 'Something went wrong');
          }

        },
        error: function (xhr, status, error) {
          // This runs if the response is not valid JSON or server/network error occurs
          let msg = "Unexpected error. ";
          if (xhr.responseText) {
            msg += "\nServer says: " + xhr.responseText;
          }
          alert(msg);
          console.error('AJAX Error:', status, error, xhr.responseText);
        }
      });
    });
  });
  function updateCartIconCount() {
    $.getJSON('ajax/cart_get.php', function (items) {
      const count = items?.length || 0;
      const badge = $('#cartCountBadge');

      badge.text(count);

      if (count > 0) {
        badge.css('color', '#dc3545'); // Bootstrap Red
      } else {
        badge.css('color', '#aaa'); // Grey for 0
      }
    });
  }

  // Run it on page load
  $(function () {
    updateCartIconCount();
  });
</script>


<script>
  $(function () {
      $.getJSON('ajax/get_categories.php', function (tree) {
          $('#category-nav').html(renderMegaMenu(tree));
      });
  });

  function renderMegaMenu(categories) {
      let html = '';

      categories.forEach(function (category) {
          if (category.children && category.children.length > 0) {
              // Category with subcategories - NO redirect on parent
              html += `
      <li class="nav-item dropdown dropdown-mega">
        <a class="nav-link dropdown-toggle" href="?category_id=${category.category_id}" id="navbarDropdown${category.category_id}" 
           role="button" aria-expanded="false">
          ${category.name}
        </a>
        <div class="dropdown-menu mega-menu" aria-labelledby="navbarDropdown${category.category_id}">
          <div class="container">
            <div class="row">
              <div class="col-md-12">
                <h6 class="dropdown-header" >${category.name}</h6>
                ${renderSubCategories(category.children)}
              </div>
            </div>
          </div>
        </div>
      </li>`;
          } else {
              // Regular category - can redirect
              html += `
      <li class="nav-item">
        <a class="nav-link" href="?category_id=${category.category_id}">
          ${category.name}
        </a>
      </li>`;
          }
      });

      return html;
  }

  function renderSubCategories(subcategories) {
      let html = '<div class="row">';

      subcategories.forEach(function (subcategory) {
          html += `
    <div class="col-md-6 mb-2">
      <a class="dropdown-item" href="?category_id=${subcategory.category_id}">
        <i class="bi bi-arrow-right-short"></i> ${subcategory.name}
      </a>
    </div>`;
      });

      html += '</div>';
      return html;
  }




</script>

</body>
</html>
